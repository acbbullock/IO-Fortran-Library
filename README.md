# IO-Fortran-Library

The [IO-Fortran-Library](https://acbbullock.github.io/IO-Fortran-Library/doc/index.html)
is a Fortran module `io_fortran_lib` which provides high level routines
for doing internal and external I/O. In particular, the module provides
a handful of generic interfaces and a simple derived type for doing
string-based and array-based I/O that are useful for recording program
data, reading data into programs, writing formatted logs and output,
and for doing advanced string manipulations. For instance, one may read
and write data from/to `.csv` and `.dat` files, represent numbers as
strings inside of a string expression, efficiently stream text data to
a `.log` file, and dynamically manipulate strings with a `String` type
(including casting between numeric and string data).

To use `io_fortran_lib` with your [fpm](https://github.com/fortran-lang/fpm)
project, add the following lines to your `fpm.toml` file and `use` the
module in your program units to access the routines:

```toml
[dependencies]
IO-Fortran-Library = { git="https://github.com/acbbullock/IO-Fortran-Library", branch="main" }
```

The module is fully self-contained, with no external dependencies, and
is written to be portable and compliant to the Fortran 2018 standard
such that no special extensions or compiler options should be required.
The public interfaces accept all intrinsic numeric types (`integer`,
`real`, and `complex`) and all standard kinds provided by the intrinsic
`iso_fortran_env` module (`int8`, `int16`, `int32`, `int64`, `real32`,
`real64`, and `real128`). All array-based routines additionally support
up to rank 15.

## Documentation

The API documentation for this project was generated by
[FORD](https://github.com/Fortran-FOSS-Programmers/ford) (the Fortran
documentation generator) and is available at
[IO-Fortran-Library](https://acbbullock.github.io/IO-Fortran-Library/doc/index.html).
To view the documentation locally, clone this repository and view
`/doc/index.html` in your browser.

For a list of available interfaces and how to call them, see the
[reference guide](https://acbbullock.github.io/IO-Fortran-Library/doc/page/Ref/index.html).
For further information, see the
[important user information](https://acbbullock.github.io/IO-Fortran-Library/doc/page/UserInfo/index.html)
and the
[tutorials](https://acbbullock.github.io/IO-Fortran-Library/doc/page/Examples/index.html)
for complete example programs.

## Release Notes v1.3.1

### Improved

* Fixed a "z" format string conversion bug.
* Updated documentation.
* Modified benchmark programs.

## Release Notes v1.2.1

### Added

* Added implementations for
[cast](https://acbbullock.github.io/IO-Fortran-Library/doc/page/Ref/cast.html).

### Improved

* Improved performance for
[count](https://acbbullock.github.io/IO-Fortran-Library/doc/page/Ref/String-methods.html#count),
[read_file](https://acbbullock.github.io/IO-Fortran-Library/doc/page/Ref/String-methods.html#read_file),
and [write_file](https://acbbullock.github.io/IO-Fortran-Library/doc/page/Ref/String-methods.html#write_file),
as well as [split](https://acbbullock.github.io/IO-Fortran-Library/doc/page/Ref/join-split.html)
for very large strings. The read/write performance is 2-4x faster than
previous (compiler-dependent).

## Release Notes v1.2.0

### New features

* The `String` type has been greatly expanded and can now serve as an
  interface for advanced string manipulations and text file I/O. See the
  references for
  [type-bound procedures](https://acbbullock.github.io/IO-Fortran-Library/doc/page/Ref/String-methods.html)
  and the [tutorials](https://acbbullock.github.io/IO-Fortran-Library/doc/page/Examples/index.html)
  for more information.
* New [constants](https://acbbullock.github.io/IO-Fortran-Library/doc/page/Ref/constants.html)
  have been added for public use to facilitate file I/O consistently on
  a variety of platforms.
* New interface [String](https://acbbullock.github.io/IO-Fortran-Library/doc/page/Ref/String.html)
  for an elemental version of `str` with a return type of `String`.
* New interface [cast](https://acbbullock.github.io/IO-Fortran-Library/doc/page/Ref/cast.html)
  for casting `character` and `String` data into numeric variables.
* New interfaces [join and split](https://acbbullock.github.io/IO-Fortran-Library/doc/page/Ref/join-split.html)
  for joining and splitting strings.
* New [operator interfaces](https://acbbullock.github.io/IO-Fortran-Library/doc/page/Ref/operators.html)
  for string manipulations involving both `character` and `String`
  types.

### Added

* Slightly modified interfaces for
  [echo](https://acbbullock.github.io/IO-Fortran-Library/doc/page/Ref/echo.html)
  and [from_file](https://acbbullock.github.io/IO-Fortran-Library/doc/page/Ref/from_file.html)
  to accept an additional optional argument each.
* Test programs have been added in `/test`, which are all passing in
  the following configurations with lowest and highest optimizations
  enabled:
  * GNU Fortran Compiler v11.3.0 on Linux
  * Intel Fortran Compiler v2023.0.0 on Linux
  * Intel Fortran Compiler Classic v2021.8.0 on Linux
  * GNU Fortran Compiler v11.2.0 on Windows 11
  * Intel Fortran Compiler v2023.0.0 on Windows 11
  * Intel Fortran Compiler Classic v2021.8.0 on Windows 11

### Improved

* Removed vertical bars in
  [aprint](https://acbbullock.github.io/IO-Fortran-Library/doc/page/Ref/aprint.html)
  which were displayed incorrectly in terminals with display encoding
  different from UTF-8.
* Text file I/O has been optimized for performance and memory usage,
  and expanded to support processing of large files.

## License

All source code referenced is distributed under the
[MIT license](https://github.com/acbbullock/IO-Fortran-Library/blob/main/LICENCE).

## Contact

For bug fixes or feature requests, feel free to open an issue at the
[project repository](https://github.com/acbbullock/IO-Fortran-Library/issues)
or contact [acb.bullock@gmail.com](mailto:acb.bullock@gmail.com).
